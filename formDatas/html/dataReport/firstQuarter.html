<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Pragma" content="no-cache">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>数据报表</title>
		<link rel="stylesheet" type="text/css" href="../../css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../../css/reheadtabs.css" />
		<link rel="stylesheet" type="text/css" href="../../css/datareport.css" />
		<script src="../../public/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../public/rem.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../public/public.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../public/layer.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../public/vue.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<div class="datarehead">
			数据报表
			<div class="datarereturns" onclick="returns()">
				<img src="../../images/return@3x.png" />
			</div>
			<img src="../../images/zhankai@2x.png" class="zhankai"  onclick="toLandscape('landscape/firstlandScape.html')"/>
			<!--<img src="../../images/tuisong@2x.png" class="tuisong" />-->
		</div>
		<div class="zwheaddown"></div>
		<div class="datarecont">
			<div class="lefttab">
				<p onclick="hrefs('dataReport.html')">
					<span>互联网+大单</span>
					<i></i>
				</p>
				<p onclick="hrefs('reportIct.html')">
					<span>ICT项目排行</span>
				</p>
				<p onclick="hrefs('wlwjz.html')">
					<span>物联网净增排行</span>
				</p>
				<p onclick="hrefs('wlwxz.html')">
					<span>物联网新增统计</span>
				</p>
				<p onclick="hrefs('mbb.html')">
					<span>移动、宽带</span>
				</p>
				<p onclick="hrefs('directRevenue.html')">
					<span>直管客户收入</span>
				</p>
				<p class="dractive" onclick="hrefs('firstQuarter.html')">
					<span>一季度资源配比</span>
					<i></i>
				</p>
				<p onclick="hrefs('secondQuarter.html')">
					<span>二季度资源配比</span>
				</p>
				<p onclick="hrefs('supportStatistics.html')">
					<span>属地支撑统计</span>
				</p>
				<p onclick="hrefs('baseSupport.html')">
					<span>基地支撑统计</span>
				</p>
				<p onclick="hrefs('talentWorkstation.html')">
					<span>人才工作站支撑统计</span>
				</p>
			</div>
			<div class="rightcont">
				<div class="fqcont" id="fqccont" v-cloak>
					<div class="fqpro">
						省份
					</div>
					<div class="fqheadlist" v-on:scroll="scroll1($event)">
						<div class="fqheadlistli">
							<div class="shuanghang gyy">
								<p>互联网+(含私有云、非互联网IDC、卫星)</p>
								<span class="bf">项目数(大单)</span>
								<span class="bf">营销成本</span>
								<span>人工成本</span>
							</div>
							<div class="shuanghang gyy">
								<p>公有云/专属云</p>
								<span class="bf">项目数</span>
								<span class="bf">营销成本</span>
								<span>人工成本</span>
							</div>
							<div class="yundi shuanghang">
								<p>云堤</p>
								<span class="bf">项目数</span>
								<span>人工成本</span>
							</div>
							<div class="shuanghang ict">
								<p>新兴ICT领先奖</p>
								<span>人工成本</span>
							</div>
							<div class="shuanghang gyy">
								<p>合计</p>
								<span class="bf">项目数</span>
								<span class="bf">营销成本</span>
								<span>人工成本</span>
							</div>
						</div>
					</div>
					<div class="fqprovs" v-on:scroll="scroll2($event)">
						<p v-for="(prov,index) in provs" v-bind:class="(index%2 ==0) ? 'evens' : 'odds'">{{prov}}</p>
					</div>
					<div class="fqconts" v-on:scroll="scroll3($event)">
						<div class="fqcontsli" v-for="(datalist,index) in datalists" v-bind:class="(index%2 ==0) ? 'evens' : 'odds'">
							<span>{{datalist.hLWXms}}</span>
							<span>{{formatNum2(datalist.hLWYxcb)}}</span>
							<span>{{formatNum2(datalist.hLWRgcb)}}</span>
							<span>{{datalist.gYYXms}}</span>
							<span>{{formatNum2(datalist.gYYYxcb)}}</span>
							<span>{{formatNum2(datalist.gYYRgcb)}}</span>
							<span>{{datalist.yDXms}}</span>
							<span>{{formatNum2(datalist.yDRgcb)}}</span>
							<span>{{formatNum2(datalist.iCTRgcb)}}</span>
							<span>{{datalist.hJXms}}</span>
							<span>{{formatNum2(datalist.hJYxcb)}}</span>
							<span>{{formatNum2(datalist.hJRgcb)}}</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		var loginname = localStorage.getItem("loginname");
		var datas = {
			"ContractRoot": {
				"ContractRoot": {
					"TcpCont": {
						"BusCode": "OPP10185",
						"TransactionID": "2017092716080129154",
						"TimeStamp": "20170927160801"
					},
					"SvcCont": {
						"ReqInfo": {
							"LoginName": loginname,
							"SystemID": "1212"
						}
					}
				}
			}
		}
		new Vue({
			el: "#fqccont",
			data: {
				datalists: [],
				provs: [],
			},
//			created:function (){
//				$.ajax({
//					url: "https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su",
//					dataType: 'jsonp',
//					data:{
//						wd:'a'
//					},
//					jsonp:'cb',
//					type: 'get',
//					success: function(data) {
//						console.log(data)
//					}
//					
//				});
//			}
			mounted: function() {
				var arr = this;
				$.ajax({
					url: publicurl + JSON.stringify(datas),
					dataType: 'json',
					type: 'get',
					success: function(data) {
						layer.close(index);
						if(data.msg) {
							alert("网络出现异常，请重试")
						} else {
							if(data.ContractRoot.svcCont.respInfo.code == 000) {
								console.log(data.ContractRoot.svcCont.respInfo.quarteCnfigList)
								var datas = data.ContractRoot.svcCont.respInfo.onequarteCnfigList;
								for(var i = 0; i < datas.length; i++) {
									arr.provs.push(datas[i].regionName);
								}
                                arr.datalists = data.ContractRoot.svcCont.respInfo.onequarteCnfigList;
							} else {
								alert("网络出现异常，请重试")
							}
						}
					},
					beforeSend: function(request) {
						index = layer.open({
							style: 'border:none; color:#fff;',
							content: '玩命加载中...',
							shadeClose: false,
						})
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert("网络出现异常，请重试")
						layer.close(index);
					},
				});
			},
			methods: {
				scroll1: function(e) {
					$(".fqconts").scrollLeft($(e.currentTarget).scrollLeft());
				},
				scroll2: function(e) {
					$(".fqconts").scrollTop($(e.currentTarget).scrollTop());
				},
				scroll3: function(e) {
					$(".fqheadlist").scrollLeft($(e.currentTarget).scrollLeft());
					$(".fqprovs").scrollTop($(e.currentTarget).scrollTop());
				},
			}

		})
	</script>

</html>